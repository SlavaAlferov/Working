def dcdBits(bits):
    # Убираем ведущие и конечные нули
    bits = bits.strip('0')
    if not bits: return ''

    # Определяем единичное время, основываясь на минимальной длине сегмента, который равен 1
    time = min(len(x) for x in bits.split('0') if x)  # длина кусочка из 1
    if time == 0: return ''

    # Декодируем в морзянку: 1 единица времени - '.', 3 - '-'
    segments = bits.split('0')
    cd = []
    for segment in segments:
        if len(segment) == time: cd.append('.')
        elif len(segment) == time * 3: cd.append('-')

        # Добавляем пробел между символами
        cd.append(' ')

    # Корректируем паузы между словами и буквами
    dcd = ''.join(cd).strip()
    dcd = dcd.replace('  ',' ')
    dcd = dcd.replace('       ','|')
    dcd = dcd.replace('   ','*')
    dcd = dcd.replace(' ', '')
    dcd = dcd.replace('*',' ')
    
    return dcd.replace('|',' | ')

def dcd(cd):
    # Словарь для перевода Морзе
    morse = {
        '.-': 'A', '-...': 'B', '-.-.': 'C', '-..': 'D', '.': 'E', '..-.': 'F',
        '--.': 'G', '....': 'H', '..': 'I', '.---': 'J', '-.-': 'K', '.-..': 'L',
        '--': 'M', '-.': 'N', '---': 'O', '.--.': 'P', '--.-': 'Q', '.-.': 'R',
        '...': 'S', '-': 'T', '..-': 'U', '...-': 'V', '.--': 'W', '-..-': 'X',
        '-.--': 'Y', '--..': 'Z',
        '-----': '0', '.----': '1', '..---': '2', '...--': '3', '....-': '4',
        '.....': '5', '-....': '6', '--...': '7', '---..': '8', '----.': '9',
        '.-.-.-': '.', '--..--': ',', '..--..': '?', '.----.': "'", '-.-.--': '!',
        '-..-.': '/', '-.--.': '(', '-.--.-': ')', '.-...': '&', '---...': ':',
        '-.-.-.': ';', '-...-': '=', '.-.-.': '+', '-....-': '-', '..--.-': '_',
        '.-..-.': '"', '...-..-': '$', '.--.-.': '@', '...---...': 'SOS'
    }

    # Разделяем код Морзе на слова
    words = cd.strip().split(' | ')  # ' | ' обозначает пробел между словами
    dcd_message = []

    for word in words:
        letters = word.split()  # разделяем буквы по пробелам
        dcd_word = ''.join(morse.get(letter, '') for letter in letters)  # декодируем буквы из морзянки
        dcd_message.append(dcd_word)

    return ' '.join(dcd_message)


# Пример использования:
bits = "1100110011001100000011000000111111001100111111001111110000000000000011001111110011111100111111000000110011001111110000001111110011001100000011"
print("Код Морзе:", dcdBits(bits).replace(' | ',' ')) # Код Морзе: .... . -.-- .--- ..- -.. .
print("Дешифрованный код:", dcd(dcdBits(bits))) # Дешифрованный код: HEY JUDE
